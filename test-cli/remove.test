### Copyright (C) 2011 Peter Williams <peter_ono@users.sourceforge.net>
###
### This program is free software; you can redistribute it and/or modify
### it under the terms of the GNU General Public License as published by
### the Free Software Foundation; version 2 of the License only.
###
### This program is distributed in the hope that it will be useful,
### but WITHOUT ANY WARRANTY; without even the implied warranty of
### MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### GNU General Public License for more details.
###
### You should have received a copy of the GNU General Public License
### along with this program; if not, write to the Free Software
### Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA

Test the 'darn remove' command.

Test removing a patch when not in a playground.
$ darn remove first
? 1
! Valid database NOT found.

Set up a playground with three patches
$ darn init
$ darn new first
$ darn new second
$ darn new third
$ darn series
> +: first
> +: second
> +: third

Test removing a nonexistent patch
$ darn remove nonexistent
? 1
! nonexistent: patch is NOT known.

Test removing an applied patches
$ darn remove first
? 1
! first: patch is applied and cannot be removed.
$ darn remove second
? 1
! second: patch is applied and cannot be removed.
$ darn remove third
? 1
! third: patch is applied and cannot be removed.
$ darn series
> +: first
> +: second
> +: third

Pop two patches
$ darn pop
> Patch "second" is now on top.
$ darn pop
> Patch "first" is now on top.
$ darn series
> +: first
>  : second
>  : third

Remove a patch in the middle of the series
$ darn remove second
> Patch "second" removed (but available for restoration).
$ darn series
> +: first
>  : third

Remove a patch in the end of the series
$ darn remove third
> Patch "third" removed (but available for restoration).
$ darn series
> +: first
